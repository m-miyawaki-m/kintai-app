# テストケース: 主任ロールの追加と配下メンバー勤怠表示機能

## 基本情報

| 項目 | 内容 |
|------|------|
| Issue | #1 |
| ブランチ | feature/issue-1-supervisor-role |
| 作成日 | 2025-02-05 |
| 担当者 | - |

## 利用テストデータ

| ユーザー | メール | パスワード | ロール | 備考 |
|---------|--------|----------|--------|------|
| 管理者 | admin@example.com | admin123 | admin | 管理者ダッシュボードへ遷移 |
| 鈴木 一郎 | supervisor@example.com | password | supervisor | 配下: user01〜user05 |
| 山田 太郎 | user01@example.com | password | user | 鈴木の配下 |
| 佐藤 花子 | user02@example.com | password | user | 鈴木の配下 |
| 田中 次郎 | user03@example.com | password | user | 鈴木の配下 |
| 高橋 美咲 | user04@example.com | password | user | 鈴木の配下 |
| 伊藤 健太 | user05@example.com | password | user | 鈴木の配下 |

---

## テストケース

### TC-SUP-001: 主任ログイン時の配下メンバーセクション表示

| 項目 | 内容 |
|------|------|
| 前提条件 | エミュレータ起動済み、シードデータ投入済み |
| 手順 | 1. ログイン画面で「鈴木 一郎 (主任)」を選択<br>2. ログインボタンをクリック<br>3. 勤怠打刻画面を確認 |
| 期待結果 | 「配下メンバーの勤怠状況」セクションが表示される |
| 確認観点 | - セクションタイトルが表示される<br>- 5名の配下メンバーが一覧表示される |

### TC-SUP-002: 配下メンバーの勤怠状況表示（未打刻状態）

| 項目 | 内容 |
|------|------|
| 前提条件 | 主任でログイン済み、配下メンバー全員が未打刻 |
| 手順 | 1. 勤怠打刻画面の「配下メンバーの勤怠状況」セクションを確認 |
| 期待結果 | 全メンバーが「未出勤」ステータスで表示される |
| 確認観点 | - 名前が表示される<br>- ステータスバッジが「未出勤」<br>- 出勤時刻は「--:--」 |

### TC-SUP-003: 配下メンバーの出勤リアルタイム反映

| 項目 | 内容 |
|------|------|
| 前提条件 | 主任でログイン済み |
| 手順 | 1. 別ブラウザ/タブで user01@example.com でログイン<br>2. 出勤ボタンをクリック<br>3. 主任の画面を確認（リロード不要） |
| 期待結果 | 山田 太郎の行が「勤務中」に変わり、出勤時刻と住所が表示される |
| 確認観点 | - リアルタイムで更新される（画面リロード不要）<br>- ステータスが「勤務中」に変化<br>- 出勤時刻が表示される |

### TC-SUP-004: 配下メンバーの退勤リアルタイム反映

| 項目 | 内容 |
|------|------|
| 前提条件 | TC-SUP-003完了後 |
| 手順 | 1. user01の画面で退勤ボタンをクリック<br>2. 主任の画面を確認 |
| 期待結果 | 山田 太郎の行が「退勤済」に変わり、退勤時刻と住所が表示される |
| 確認観点 | - リアルタイムで更新される<br>- ステータスが「退勤済」に変化<br>- 退勤時刻が表示される |

### TC-SUP-005: 一般ユーザーには配下セクション非表示

| 項目 | 内容 |
|------|------|
| 前提条件 | エミュレータ起動済み |
| 手順 | 1. user01@example.com でログイン<br>2. 勤怠打刻画面を確認 |
| 期待結果 | 「配下メンバーの勤怠状況」セクションが表示されない |
| 確認観点 | - セクション自体が存在しない<br>- 自分の勤怠記録のみ表示 |

### TC-SUP-006: 自分の勤怠記録に名前表示

| 項目 | 内容 |
|------|------|
| 前提条件 | 任意のユーザーでログイン済み |
| 手順 | 1. 勤怠打刻画面の「本日の勤怠記録」を確認 |
| 期待結果 | 自分の名前が勤怠カードに表示される |
| 確認観点 | - 名前が左端に表示される<br>- 配下メンバー表示と同じフォーマット |

---

## 自動テスト

| テストファイル | テスト数 | 概要 |
|---------------|---------|------|
| `src/stores/__tests__/auth.test.ts` | 14 | 認証ストアのテスト（ロール判定含む） |
| `src/components/__tests__/AttendanceRecordCard.test.ts` | 12 | 勤怠カードコンポーネントのテスト |
